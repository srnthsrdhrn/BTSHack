import json

from web3 import Web3, HTTPProvider

web = Web3(HTTPProvider("http://localhost:8545"))
user_db_abi = json.loads(
    '[{"constant":false,"inputs":[{"name":"hash","type":"bytes"},{"name":"_name","type":"string"},{"name":"enchash","type":"bytes"}],"name":"uploadHash","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getPrivateKey","outputs":[{"name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"uint256"}],"name":"orders","outputs":[{"name":"documentHash","type":"bytes"},{"name":"name","type":"string"},{"name":"encryptedHash","type":"bytes"},{"name":"portfolio","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"userd","type":"address"}],"name":"getPublicKey","outputs":[{"name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"users","outputs":[{"name":"name","type":"string"},{"name":"aadhar_number","type":"bytes"},{"name":"password","type":"bytes"},{"name":"username","type":"bytes"},{"name":"portfolio","type":"bytes"},{"name":"publickey","type":"bytes"},{"name":"privatekey","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"useraddr","type":"address"}],"name":"getCurrentUser","outputs":[{"name":"","type":"string"},{"name":"","type":"bytes"},{"name":"","type":"bytes"},{"name":"","type":"bytes"},{"name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_username","type":"bytes"},{"name":"_password","type":"bytes"},{"name":"_aadhar_number","type":"bytes"},{"name":"_name","type":"string"},{"name":"_portfolio","type":"bytes"},{"name":"publik","type":"bytes"},{"name":"privatek","type":"bytes"},{"name":"user_addr","type":"address"}],"name":"register","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"useraddr","type":"address"},{"name":"cursor","type":"uint256"}],"name":"getGovApplication","outputs":[{"name":"","type":"string"},{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"a","type":"bytes"},{"name":"b","type":"bytes"}],"name":"compareBytes","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"hash","type":"bytes"},{"name":"enchash","type":"bytes"},{"name":"portfolio_","type":"string"},{"name":"user_addr_","type":"address"}],"name":"updateHash","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"username","type":"bytes"},{"name":"password","type":"bytes"}],"name":"login","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"name":"","type":"address"}],"name":"registered","type":"event"}]')

user_db_bytecodes = '6060604052341561000f57600080fd5b612bb58061001e6000396000f3006060604052600436106100af576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680633fd8f66f146100b457806361f0b25f14610197578063793b8c6d14610225578063857cdbb814610498578063a87430ba1461054a578063b6be07e41461094f578063bc04902f14610bb1578063ce485ba014610e38578063d259183d14610f5f578063da8aeb1814611017578063f2fbfa5314611192575b600080fd5b34156100bf57600080fd5b610195600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050611272565b005b34156101a257600080fd5b6101aa611386565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156101ea5780820151818401526020810190506101cf565b50505050905090810190601f1680156102175780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561023057600080fd5b610265600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803590602001909190505061146d565b60405180806020018060200180602001806020018581038552898181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156102fa5780601f106102cf576101008083540402835291602001916102fa565b820191906000526020600020905b8154815290600101906020018083116102dd57829003601f168201915b505085810384528881815460018160011615610100020316600290048152602001915080546001816001161561010002031660029004801561037d5780601f106103525761010080835404028352916020019161037d565b820191906000526020600020905b81548152906001019060200180831161036057829003601f168201915b50508581038352878181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156104005780601f106103d557610100808354040283529160200191610400565b820191906000526020600020905b8154815290600101906020018083116103e357829003601f168201915b50508581038252868181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156104835780601f1061045857610100808354040283529160200191610483565b820191906000526020600020905b81548152906001019060200180831161046657829003601f168201915b50509850505050505050505060405180910390f35b34156104a357600080fd5b6104cf600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506114b5565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561050f5780820151818401526020810190506104f4565b50505050905090810190601f16801561053c5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561055557600080fd5b610581600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190505061159e565b604051808060200180602001806020018060200180602001806020018060200188810388528f8181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156106225780601f106105f757610100808354040283529160200191610622565b820191906000526020600020905b81548152906001019060200180831161060557829003601f168201915b505088810387528e8181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156106a55780601f1061067a576101008083540402835291602001916106a5565b820191906000526020600020905b81548152906001019060200180831161068857829003601f168201915b505088810386528d8181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156107285780601f106106fd57610100808354040283529160200191610728565b820191906000526020600020905b81548152906001019060200180831161070b57829003601f168201915b505088810385528c8181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156107ab5780601f10610780576101008083540402835291602001916107ab565b820191906000526020600020905b81548152906001019060200180831161078e57829003601f168201915b505088810384528b81815460018160011615610100020316600290048152602001915080546001816001161561010002031660029004801561082e5780601f106108035761010080835404028352916020019161082e565b820191906000526020600020905b81548152906001019060200180831161081157829003601f168201915b505088810383528a8181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156108b15780601f10610886576101008083540402835291602001916108b1565b820191906000526020600020905b81548152906001019060200180831161089457829003601f168201915b50508881038252898181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156109345780601f1061090957610100808354040283529160200191610934565b820191906000526020600020905b81548152906001019060200180831161091757829003601f168201915b50509e50505050505050505050505050505060405180910390f35b341561095a57600080fd5b610986600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506115d9565b60405180806020018060200180602001806020018060200186810386528b818151815260200191508051906020019080838360005b838110156109d65780820151818401526020810190506109bb565b50505050905090810190601f168015610a035780820380516001836020036101000a031916815260200191505b5086810385528a818151815260200191508051906020019080838360005b83811015610a3c578082015181840152602081019050610a21565b50505050905090810190601f168015610a695780820380516001836020036101000a031916815260200191505b50868103845289818151815260200191508051906020019080838360005b83811015610aa2578082015181840152602081019050610a87565b50505050905090810190601f168015610acf5780820380516001836020036101000a031916815260200191505b50868103835288818151815260200191508051906020019080838360005b83811015610b08578082015181840152602081019050610aed565b50505050905090810190601f168015610b355780820380516001836020036101000a031916815260200191505b50868103825287818151815260200191508051906020019080838360005b83811015610b6e578082015181840152602081019050610b53565b50505050905090810190601f168015610b9b5780820380516001836020036101000a031916815260200191505b509a505050505050505050505060405180910390f35b3415610bbc57600080fd5b610dbd600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050611aff565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610dfd578082015181840152602081019050610de2565b50505050905090810190601f168015610e2a5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3415610e4357600080fd5b610e78600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050611cee565b604051808060200180602001838103835285818151815260200191508051906020019080838360005b83811015610ebc578082015181840152602081019050610ea1565b50505050905090810190601f168015610ee95780820380516001836020036101000a031916815260200191505b50838103825284818151815260200191508051906020019080838360005b83811015610f22578082015181840152602081019050610f07565b50505050905090810190601f168015610f4f5780820380516001836020036101000a031916815260200191505b5094505050505060405180910390f35b3415610f6a57600080fd5b610ffd600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050612012565b604051808215151515815260200191505060405180910390f35b341561102257600080fd5b611117600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050612156565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561115757808201518184015260208101905061113c565b50505050905090810190601f1680156111845780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561119d57600080fd5b611230600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050612555565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002080548060010182816112c3919061280a565b9160005260206000209060040201600060806040519081016040528087815260200186815260200185815260200160206040519081016040528060008152508152509091909150600082015181600001908051906020019061132692919061283c565b5060208201518160010190805190602001906113439291906128bc565b50604082015181600201908051906020019061136092919061283c565b50606082015181600301908051906020019061137d9291906128bc565b50505050505050565b61138e61293c565b6000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206006018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156114635780601f1061143857610100808354040283529160200191611463565b820191906000526020600020905b81548152906001019060200180831161144657829003601f168201915b5050505050905090565b60016020528160005260406000208181548110151561148857fe5b90600052602060002090600402016000915091505080600001908060010190806002019080600301905084565b6114bd61293c565b6000808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206005018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156115925780601f1061156757610100808354040283529160200191611592565b820191906000526020600020905b81548152906001019060200180831161157557829003601f168201915b50505050509050919050565b600060205280600052604060002060009150905080600001908060010190806002019080600301908060040190806005019080600601905087565b6115e1612950565b6115e961293c565b6115f161293c565b6115f961293c565b61160161293c565b611609612964565b6000808873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060e06040519081016040529081600082018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156116ec5780601f106116c1576101008083540402835291602001916116ec565b820191906000526020600020905b8154815290600101906020018083116116cf57829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561178e5780601f106117635761010080835404028352916020019161178e565b820191906000526020600020905b81548152906001019060200180831161177157829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156118305780601f1061180557610100808354040283529160200191611830565b820191906000526020600020905b81548152906001019060200180831161181357829003601f168201915b50505050508152602001600382018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156118d25780601f106118a7576101008083540402835291602001916118d2565b820191906000526020600020905b8154815290600101906020018083116118b557829003601f168201915b50505050508152602001600482018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156119745780601f1061194957610100808354040283529160200191611974565b820191906000526020600020905b81548152906001019060200180831161195757829003601f168201915b50505050508152602001600582018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611a165780601f106119eb57610100808354040283529160200191611a16565b820191906000526020600020905b8154815290600101906020018083116119f957829003601f168201915b50505050508152602001600682018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611ab85780601f10611a8d57610100808354040283529160200191611ab8565b820191906000526020600020905b815481529060010190602001808311611a9b57829003601f168201915b505050505081525050905080600001518160200151826040015183606001518460800151849450839350829250819150809050955095509550955095505091939590929450565b611b07612950565b60e0604051908101604052808781526020018881526020018981526020018a8152602001868152602001858152602001848152506000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000820151816000019080519060200190611b959291906128bc565b506020820151816001019080519060200190611bb292919061283c565b506040820151816002019080519060200190611bcf92919061283c565b506060820151816003019080519060200190611bec92919061283c565b506080820151816004019080519060200190611c0992919061283c565b5060a0820151816005019080519060200190611c2692919061283c565b5060c0820151816006019080519060200190611c4392919061283c565b5090505060028054806001018281611c5b91906129cc565b9160005260206000209001600084909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550506040805190810160405280601981526020017f55736572205375636365737366756c6c79204372656174656400000000000000815250905098975050505050505050565b611cf6612950565b611cfe612950565b611d066129f8565b600160008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002084815481101515611d5257fe5b906000526020600020906004020160806040519081016040529081600082018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611e055780601f10611dda57610100808354040283529160200191611e05565b820191906000526020600020905b815481529060010190602001808311611de857829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611ea75780601f10611e7c57610100808354040283529160200191611ea7565b820191906000526020600020905b815481529060010190602001808311611e8a57829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611f495780601f10611f1e57610100808354040283529160200191611f49565b820191906000526020600020905b815481529060010190602001808311611f2c57829003601f168201915b50505050508152602001600382018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611feb5780601f10611fc057610100808354040283529160200191611feb565b820191906000526020600020905b815481529060010190602001808311611fce57829003601f168201915b50505050508152505090508060200151816060015181915080905092509250509250929050565b60008082518451141515612029576000915061214f565b600090505b835181101561214a57828181518110151561204557fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191684828151811015156120c057fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614151561213d576000915061214f565b808060010191505061202e565b600191505b5092915050565b61215e612950565b612166612a39565b6000600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020805480602002602001604051908101604052809291908181526020016000905b82821015612482578382906000526020600020906004020160806040519081016040529081600082018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156122845780601f1061225957610100808354040283529160200191612284565b820191906000526020600020905b81548152906001019060200180831161226757829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156123265780601f106122fb57610100808354040283529160200191612326565b820191906000526020600020905b81548152906001019060200180831161230957829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156123c85780601f1061239d576101008083540402835291602001916123c8565b820191906000526020600020905b8154815290600101906020018083116123ab57829003601f168201915b50505050508152602001600382018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561246a5780601f1061243f5761010080835404028352916020019161246a565b820191906000526020600020905b81548152906001019060200180831161244d57829003601f168201915b505050505081525050815260200190600101906121c7565b505050509150600090505b815181101561254a576124bb82828151811015156124a757fe5b906020019060200201516000015188612012565b1561253d578582828151811015156124cf57fe5b90602001906020020151604001819052508482828151811015156124ef57fe5b90602001906020020151606001819052506040805190810160405280600681526020017f53746f7265640000000000000000000000000000000000000000000000000000815250925061254b565b808060010191505061248d565b5b5050949350505050565b600080600090505b6002805490508110156127fe5761268760008060028481548110151561257f57fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206003018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561267c5780601f106126515761010080835404028352916020019161267c565b820191906000526020600020905b81548152906001019060200180831161265f57829003601f168201915b505050505085612012565b156127f1576127a96000806002848154811015156126a157fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206002018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561279e5780601f106127735761010080835404028352916020019161279e565b820191906000526020600020905b81548152906001019060200180831161278157829003601f168201915b505050505084612012565b156127f0576002818154811015156127bd57fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169150612803565b5b808060010191505061255d565b600091505b5092915050565b815481835581811511612837576004028160040283600052602060002091820191016128369190612a4d565b5b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061287d57805160ff19168380011785556128ab565b828001600101855582156128ab579182015b828111156128aa57825182559160200191906001019061288f565b5b5090506128b89190612aac565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106128fd57805160ff191683800117855561292b565b8280016001018555821561292b579182015b8281111561292a57825182559160200191906001019061290f565b5b5090506129389190612aac565b5090565b602060405190810160405280600081525090565b602060405190810160405280600081525090565b60e060405190810160405280612978612ad1565b8152602001612985612ae5565b8152602001612992612ae5565b815260200161299f612ae5565b81526020016129ac612ae5565b81526020016129b9612ae5565b81526020016129c6612ae5565b81525090565b8154818355818115116129f3578183600052602060002091820191016129f29190612aac565b5b505050565b608060405190810160405280612a0c612ae5565b8152602001612a19612ad1565b8152602001612a26612ae5565b8152602001612a33612ad1565b81525090565b602060405190810160405280600081525090565b612aa991905b80821115612aa55760008082016000612a6c9190612af9565b600182016000612a7c9190612b41565b600282016000612a8c9190612af9565b600382016000612a9c9190612b41565b50600401612a53565b5090565b90565b612ace91905b80821115612aca576000816000905550600101612ab2565b5090565b90565b602060405190810160405280600081525090565b602060405190810160405280600081525090565b50805460018160011615610100020316600290046000825580601f10612b1f5750612b3e565b601f016020900490600052602060002090810190612b3d9190612aac565b5b50565b50805460018160011615610100020316600290046000825580601f10612b675750612b86565b601f016020900490600052602060002090810190612b859190612aac565b5b505600a165627a7a72305820c340e7b803db863b25189df8ed491993ebaa36b85b673272666466fe039b38300029'
web.eth.defaultAccount = web.eth.coinbase
contract_address = '0x4416d1a15384aa20723ad3db7275b37af96b9361'
mycontract = web.eth.contract(user_db_abi, contract_address)


def deployContract():
    global mycontract
    mycontract1 = web.eth.contract(user_db_abi)
    mycontract1.bytecode = user_db_bytecodes
    transhash = mycontract1.deploy()
    response = web.eth.getTransactionReceipt(transhash)
    mycontract1.address = response['contractAddress']
    mycontract = mycontract1


def login(username, password):
    if mycontract is None:
        deployContract()
    gas = mycontract.estimateGas().login(username, password)
    response = mycontract.call().login(username, password)
    if not len(response) == 42:
        web.personal.unlockAccount(response, password, 0)
        return response
    return response


def register(username, password, aadhar_number, name, portfolio, pub, priv):
    if mycontract is None:
        deployContract()
    address = web.personal.newAccount(password)
    web.eth.sendTransaction({'from': web.eth.coinbase, 'to': address, 'value': 100000})
    gas = mycontract.estimateGas().register(username, password, aadhar_number, name, portfolio, pub, priv, address)
    return mycontract.transact({'gas': gas, 'from': web.eth.coinbase}).register(username, password, aadhar_number,
                                                                                name, portfolio, pub, priv,
                                                                                address)


def checkUser(address):
    if mycontract is None:
        deployContract()
    gas = mycontract.estimateGas().getCurrentUser(address)
    return mycontract.call({'gas': gas, 'from': web.eth.defaultAccount}).getCurrentUser(address)


def updateHash(hash, enchash, portfolio, address):
    if mycontract is None:
        deployContract()
    gas = mycontract.estimateGas().updateHash(hash, enchash, portfolio, address)
    return mycontract.call({'gas': gas, 'from': web.eth.defaultAccount}).uploadHash(hash, enchash, portfolio, address)


def getPrivateKey(address):
    if mycontract is None:
        deployContract()
    gas = mycontract.estimateGas().getPrivateKey()
    return mycontract.call({'from': address}).getPrivateKey()


def uploadHash(hash, name, enchash):
    if mycontract is None:
        deployContract()
    gas = mycontract.estimateGas().uploadHash(hash, name, enchash)
    return mycontract.call({'gas': gas, 'from': web.eth.defaultAccount}).uploadHash(hash, name, enchash)


def getPublicKey(address):
    if mycontract is None:
        deployContract()
    gas = mycontract.estimateGas().getPublicKey(address)
    return mycontract.call({'gas': gas, 'from': address}).getPublicKey(address)


def getGovApplication(address, cursor=0):
    gas = mycontract.estimateGas().getGovApplication(address, cursor)
    return mycontract.call({'gas': gas, 'from': address}).getGovApplication(address, cursor)
